{
  "version": 3,
  "sources": ["../../@yeger/vue-masonry-wall/dist/index.mjs"],
  "sourcesContent": ["import { defineComponent as M, toRefs as W, ref as _, onMounted as $, onBeforeUnmount as D, watch as B, openBlock as d, createElementBlock as f, normalizeStyle as R, unref as v, Fragment as T, renderList as S, renderSlot as E, createTextVNode as Y, toDisplayString as z, nextTick as A } from \"vue\";\nconst F = [\"data-index\"], L = /* @__PURE__ */ M({\n  __name: \"masonry-wall\",\n  props: {\n    columnWidth: { default: 400 },\n    items: null,\n    gap: { default: 0 },\n    rtl: { type: Boolean, default: !1 },\n    ssrColumns: { default: 0 },\n    scrollContainer: { default: null }\n  },\n  emits: [\"redraw\", \"redrawSkip\"],\n  setup(a, { emit: m }) {\n    const b = a, { columnWidth: g, items: s, gap: r, rtl: h, ssrColumns: w, scrollContainer: y } = W(b), u = _([]), c = _();\n    function x() {\n      const e = Math.floor(\n        (c.value.getBoundingClientRect().width + r.value) / (g.value + r.value)\n      );\n      return e > 0 ? e : 1;\n    }\n    function C(e) {\n      return [...new Array(e)].map(() => []);\n    }\n    if (w.value > 0) {\n      const e = C(w.value);\n      s.value.forEach(\n        (l, t) => e[t % w.value].push(t)\n      ), u.value = e;\n    }\n    async function k(e) {\n      if (e >= s.value.length)\n        return;\n      await A();\n      const l = [...c.value.children];\n      h.value && l.reverse();\n      const t = l.reduce(\n        (i, n) => n.getBoundingClientRect().height < i.getBoundingClientRect().height ? n : i\n      );\n      u.value[+t.dataset.index].push(e), await k(e + 1);\n    }\n    async function p(e = !1) {\n      if (u.value.length === x() && !e) {\n        m(\"redrawSkip\");\n        return;\n      }\n      u.value = C(x());\n      const l = y == null ? void 0 : y.value, t = l ? l.scrollTop : window.scrollY;\n      await k(0), l ? l.scrollBy({ top: t - l.scrollTop }) : window.scrollTo({ top: t }), m(\"redraw\");\n    }\n    const o = typeof ResizeObserver > \"u\" ? void 0 : new ResizeObserver(() => p());\n    return $(() => {\n      p(), o == null || o.observe(c.value);\n    }), D(() => o == null ? void 0 : o.unobserve(c.value)), B([s, h], () => p(!0)), B([g, r], () => p()), (e, l) => (d(), f(\"div\", {\n      ref_key: \"wall\",\n      ref: c,\n      class: \"masonry-wall\",\n      style: R({ display: \"flex\", gap: `${v(r)}px` })\n    }, [\n      (d(!0), f(T, null, S(u.value, (t, i) => (d(), f(\"div\", {\n        key: i,\n        class: \"masonry-column\",\n        \"data-index\": i,\n        style: R({\n          display: \"flex\",\n          \"flex-basis\": \"0px\",\n          \"flex-direction\": \"column\",\n          \"flex-grow\": 1,\n          gap: `${v(r)}px`,\n          height: [\"-webkit-max-content\", \"-moz-max-content\", \"max-content\"],\n          \"min-width\": 0\n        })\n      }, [\n        (d(!0), f(T, null, S(t, (n) => (d(), f(\"div\", {\n          key: n,\n          class: \"masonry-item\"\n        }, [\n          E(e.$slots, \"default\", {\n            item: v(s)[n],\n            index: n\n          }, () => [\n            Y(z(v(s)[n]), 1)\n          ])\n        ]))), 128))\n      ], 12, F))), 128))\n    ], 4));\n  }\n}), U = /* @__PURE__ */ (() => {\n  const a = L;\n  return a.install = (m) => {\n    m.component(\"MasonryWall\", a);\n  }, a;\n})();\nexport {\n  U as default\n};\n"],
  "mappings": "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",
  "names": []
}
