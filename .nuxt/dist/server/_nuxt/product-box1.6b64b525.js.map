{"version":3,"file":"product-box1.6b64b525.js","sources":["../../../../components/product-box/product-box1.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"img-wrapper\">\n      <div class=\"lable-block\">\n        <span class=\"lable3\" v-if=\"product.new\">new</span>\n        <span class=\"lable4\" v-if=\"product.sale\">on sale</span>\n      </div>\n      <div class=\"front\">\n        <nuxt-link :to=\"{ path: '/product/sidebar/'+product.id}\" >\n          <img\n            :src='getImgUrl(imageSrc ? imageSrc : product.images[0].src )'\n            :id=\"product.id\"\n            class=\"img-fluid bg-img media \"\n            :alt=\"product.title\"\n            :key=\"index\"\n          />\n        </nuxt-link>\n      </div>\n      <div class=\"back\" v-if=\"product.images.length>1\">\n        <nuxt-link :to=\"{ path: '/product/sidebar/'+product.id}\" >\n        <img :src='getImgUrl(imageSrc ? imageSrc : product.images[1].src )'  :key=\"index\"  :id=\"product.id\" alt=\"\" class=\"img-fluid  m-auto media\"> </nuxt-link></div>\n      <ul class=\"product-thumb-list\">\n        <li\n          class=\"grid_thumb_img\"\n          :class=\"{active: imageSrc === image.src}\"\n          v-for=\"(image,index) in product.images\"\n          :key=\"index\"\n          @click=\"productVariantChange(image.src)\"\n        >\n          <a href=\"javascript:void(0);\">\n            <img :src=\"getImgUrl(image.src)\" />\n          </a>\n        </li>\n      </ul>\n      <div class=\"cart-info cart-wrap\">\n          <button\n            data-toggle=\"modal\"\n            data-target=\"#modal-cart\"\n            title=\"Add to cart\"\n            @click=\"addToCart(product)\"\n           \n            variant=\"primary\"\n          >\n            <i class=\"ti-shopping-cart\"></i>\n          </button>\n        <a href=\"javascript:void(0)\" title=\"Wishlist\">\n          <i class=\"ti-heart\" aria-hidden=\"true\" @click=\"addToWishlist(product)\"></i>\n        </a>\n        <a href=\"javascript:void(0)\" title=\"Quick View\" @click=\"showQuickview(product)\" variant=\"primary\">\n          <i class=\"ti-search\" aria-hidden=\"true\"></i>\n        </a>\n        <a href=\"javascript:void(0)\" title=\"Comapre\" @click.prevent=\"addToCompare(product)\"  variant=\"primary\">\n          <i class=\"ti-reload\" aria-hidden=\"true\"></i>\n        </a>\n      </div>\n    </div>\n    <div class=\"product-detail\">\n      <div class=\"rating\">\n        <i class=\"fa fa-star\"></i>\n        <i class=\"fa fa-star\"></i>\n        <i class=\"fa fa-star\"></i>\n        <i class=\"fa fa-star\"></i>\n        <i class=\"fa fa-star\"></i>\n      </div>\n      <nuxt-link :to=\"{ path: '/product/sidebar/'+product.id}\">\n        <h6>{{ product.title }}</h6>\n      </nuxt-link>\n      <p>{{ product.description }}</p>\n      <h4 v-if=\"product.sale\">\n       {{curr.symbol}}{{ discountedPrice(product)}}\n\n        <del>{{curr.symbol}}{{ (product.price * curr.curr).toFixed(2)  }}</del>\n      </h4>\n      <h4 v-else>{{curr.symbol}}{{ (product.price * curr.curr).toFixed(2) }}</h4>\n      <ul class=\"color-variant\" v-if=\"product.variants[0].color\">\n        <li v-for=\"(variant,variantIndex) in Color(product.variants)\" :key=\"variantIndex\">\n          <a\n            @click=\"productColorchange(variant, product)\"\n            :class=\"[variant]\"\n            v-bind:style=\"{ 'background-color' : variant}\"\n          ></a>\n        </li>\n      </ul>\n    </div>\n  </div>\n \n</template>\n\n<script>\nimport { mapState } from 'pinia'\nimport { useProductStore } from '~~/store/products'\nimport { useCartStore } from '~~/store/cart'\nexport default {\n  props: ['product', 'index'],\n  data() {\n    return {\n      symbol: '$',\n      imageSrc: '',\n      quickviewProduct: {},\n      compareProduct: {},\n      cartProduct: {},\n      showquickview: false,\n      showCompareModal: false,\n      cartval: false,\n      variants: {\n        productId: '',\n        image: ''\n      },\n      dismissSecs: 5,\n      dismissCountDown: 0\n    }\n  },\n  computed: {\n    ...mapState(useProductStore,{\n      productslist: 'productslist'\n    }),\n    curr(){  \n      return useProductStore().changeCurrency\n    }\n  },\n//   mounted(){\n//     let p= document.getElementsByTagName('img')\n//     for(let i=0;i<p.length;i++) {\n//       let e= document.getElementsByTagName('img')[i].className\n//       let k= document.getElementsByTagName('img')[i].parentNode\n//       if(e.includes('bg-img')){\n//       k.style.backgroundImage= \"url('/images/\"+this.product.images[0].src+\"')\"\n\n//     k.style.backgroundSize= \"cover\"\n// k.style.backgroundPosition = \"center center\"\n// k.style.display = \"block\";\n//     }}\n//   },\n  methods: {\n    getImgUrl(path) {\n    \n      return ('/images/'+ path)\n    },\n    addToCart: function (product) {\n      \n      this.cartval = true\n      this.cartProduct = product\n      this.$emit('opencartmodel', this.cartval, this.cartProduct)\n     \n      useCartStore().addToCart(product)\n    },\n    addToWishlist: function (product) {\n      this.dismissCountDown = this.dismissSecs\n      useNuxtApp().$showToast({msg:\"Product Is successfully added to your wishlist.\",type:\"info\"})\n      useProductStore().addToWishlist(product)\n    },\n    showQuickview: function (productData) {\n      this.showquickview = true\n      this.quickviewProduct = productData\n      this.$emit('openquickview', this.showquickview, this.quickviewProduct)\n    },\n    addToCompare: function (product) {\n      this.showCompareModal = true\n      this.compareProduct = product\n      this.$emit('showCompareModal', this.showCompareModal, this.compareProduct)\n    \n      useProductStore().addToCompare(product)\n    },\n    Color(variants) {\n      const uniqColor = []\n      for (let i = 0; i < Object.keys(variants).length; i++) {\n        if (uniqColor.indexOf(variants[i].color) === -1) {\n          uniqColor.push(variants[i].color)\n        }\n      }\n      return uniqColor\n    },\n    productColorchange(color, product) {\n      product.variants.map((item) => {\n        if (item.color === color) {\n          product.images.map((img) => {\n            if (img.image_id === item.image_id) {\n              this.imageSrc = img.src\n            }\n          })\n        }\n      })\n    },\n    productVariantChange(imgsrc) {\n      this.imageSrc = imgsrc\n    },\n    countDownChanged(dismissCountDown) {\n      this.dismissCountDown = dismissCountDown\n      this.$emit('alertseconds', this.dismissCountDown)\n    },\n    discountedPrice(product) {\n      const price = (product.price - (product.price * product.discount / 100))* this.curr.curr\n      return price\n      \n    }\n  },\n \n}\n</script>\n"],"names":["_ssrRenderList","_ssrRenderAttr","_ssrInterpolate"],"mappings":";;;;AA4FA,MAAA,YAAA;AAAA;EAEE,OAAA;AACE,WAAA;AAAA;;MAGE,kBAAA,CAAA;AAAA,MACA,gBAAA,CAAA;AAAA,MACA,aAAA,CAAA;AAAA,MACA,eAAA;AAAA;;MAGA,UAAA;AAAA;QAEE,OAAA;AAAA;;MAGF,kBAAA;AAAA,IACF;AAAA;EAEF,UAAA;AAAA;;IAGE,CAAA;AAAA,IACA,OAAA;AACE,aAAA,gBAAA,EAAA;AAAA,IACF;AAAA;EAeF,SAAA;AAAA,IACE,UAAA,MAAA;;;;AAME,WAAA,UAAA;;;AAIA,mBAAA,EAAA,UAAA,OAAA;AAAA;IAEF,eAAA,SAAA,SAAA;AACE,WAAA,mBAAA,KAAA;AACA,iBAAA,EAAA,WAAA,EAAA,KAAA,mDAAA,MAAA,OAAA,CAAA;AACA,sBAAA,EAAA,cAAA,OAAA;AAAA;IAEF,eAAA,SAAA,aAAA;;AAEE,WAAA,mBAAA;AACA,WAAA,MAAA,iBAAA,KAAA,eAAA,KAAA,gBAAA;AAAA;IAEF,cAAA,SAAA,SAAA;;;AAGE,WAAA,MAAA,oBAAA,KAAA,kBAAA,KAAA,cAAA;AAEA,sBAAA,EAAA,aAAA,OAAA;AAAA;IAEF,MAAA,UAAA;AACE,YAAA,YAAA,CAAA;;AAEE,YAAA,UAAA,QAAA,SAAA,GAAA,KAAA,MAAA,IAAA;AACE,oBAAA,KAAA,SAAA,GAAA,KAAA;AAAA,QACF;AAAA,MACF;AACA,aAAA;AAAA;IAEF,mBAAA,OAAA,SAAA;;;;AAIQ,gBAAA,IAAA,aAAA,KAAA,UAAA;AACE,mBAAA,WAAA,IAAA;AAAA,YACF;AAAA;QAEJ;AAAA;;;AAIF,WAAA,WAAA;AAAA;IAEF,iBAAA,kBAAA;AACE,WAAA,mBAAA;;;;AAIA,YAAA,SAAA,QAAA,QAAA,QAAA,QAAA,QAAA,WAAA,OAAA,KAAA,KAAA;;IAGF;AAAA;AAGJ;;;;AAjMmC,MAAA,OAAA,QAAA,KAAA;;;;;AACA,MAAA,OAAA,QAAA,MAAA;;;;;;;;;;;;;;;;;YAOvB,OAAA;AAAA;YAEC,KAAA,OAAA;AAAA;;;;;;;;;;;;;;;;;;;cAMiE,KAAA,OAAA;AAAA;cAA8B,KAAA;AAAA,cAAO,OAAA;AAAA;;;;;;;;;;;AAKjFA,gBAAA,OAAA,QAAA,QAAA,CAAA,OAAA,UAAA;2IAKhBC,cAAA,OAAA,SAAA,UAAA,MAAA,GAAA,CAAA;;;;;;;;iCAmCHC,eAAA,OAAA,QAAA,KAAA;;;;;;;;;AAEH,QAAA,MAAAA,eAAA,OAAA,QAAA,WAAA,OAAA;AACI,MAAA,OAAA,QAAA,MAAA;iBACPA,eAAA,SAAA,KAAA,MAAA,IAAgBA,eAAA,SAAA,gBAAA,OAAA,OAAA,CAAA,UAEVA,eAAA,SAAA,KAAA,MAAA,IAAiBA,gBAAA,OAAA,QAAA,QAAA,SAAA,KAAA,MAAA,QAAA,CAAA,CAAA;;iBAEbA,eAAA,SAAA,KAAA,MAAA,IAAiBA,gBAAA,OAAA,QAAA,QAAA,SAAA,KAAA,MAAA,QAAA,CAAA,CAAA;;;;AAESF,kBAAA,SAAA,MAAA,OAAA,QAAA,QAAA,GAAA,CAAA,SAAA,iBAAA;;;;;;;;;;;;;;;;"}