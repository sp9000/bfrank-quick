{"version":3,"file":"checkout.a005506d.js","sources":["../../../../components/paymentPage.vue","../../../../pages/page/account/checkout.vue"],"sourcesContent":["<template>\n  <section class=\"section-b-space\">\n    <div class=\"container\">\n      <div class=\"checkout-page\">\n        <div class=\"checkout-form\">\n          <form>\n            <div class=\"row\">\n              <div class=\"col-lg-6 col-sm-12\">\n                <div class=\"checkout-title\">\n                  <h3>Billing Details</h3>\n                </div>\n                <div class=\"row check-out\">\n                  <div class=\"form-group col-md-6 col-sm-6\">\n                    <div class=\"field-label\">First Name</div>\n                    <input type=\"text\" v-model=\"user.firstName.value\" name=\"First name\" />\n                    <span class=\"validate-error\" v-if=\"user.firstName.value.length === 0\">{{\n                      user.firstName.errormsg\n                    }}</span>\n                  </div>\n                  <div class=\"form-group col-md-6 col-sm-6\">\n                    <div class=\"field-label\">Last Name</div>\n                    <input type=\"text\" v-model=\"user.lastName.value\" name=\"Last name\" />\n                    <span class=\"validate-error\" v-if=\"user.lastName.value.length === 0\">{{\n                      user.lastName.errormsg\n                    }}</span>\n                  </div>\n                  <div class=\"form-group col-md-6 col-sm-6\">\n                    <div class=\"field-label\">Phone</div>\n                    <input type=\"tel\" v-model=\"user.phone.value\" name=\"Phone\" />\n                    <span class=\"validate-error\" v-if=\"user.phone.value.length === 0\">{{ user.phone.errormsg }}</span>\n                  </div>\n                  <div class=\"form-group col-md-6 col-sm-6\">\n                    <div class=\"field-label\">Email Address</div>\n                    <input type=\"email\" v-model=\"user.email.value\" name=\"Email Address\" />\n                    <span class=\"validate-error\" v-if=\"!user.email.value || !validEmail(user.email.value)\">{{\n                      user.email.errormsg\n                    }}</span>\n                  </div>\n                  <div class=\"form-group col-md-12 col-sm-12\">\n                    <div class=\"field-label\">Country</div>\n                    <select required>\n                      <option>India</option>\n                      <option selected>South Africa</option>\n                      <option>United State</option>\n                      <option>Australia</option>\n                    </select>\n                  </div>\n                  <div class=\"form-group col-md-12 col-sm-12\">\n                    <div class=\"field-label\">Address</div>\n                    <input type=\"text\" v-model=\"user.address.value\" name=\"Address\" />\n                    <span class=\"validate-error\" v-if=\"user.address.value.length === 0\">{{\n                      user.address.errormsg\n                    }}</span>\n                  </div>\n                  <div class=\"form-group col-md-12 col-sm-12\">\n                    <div class=\"field-label\">Town/City</div>\n                    <input type=\"text\" v-model=\"user.city.value\" name=\"City\" />\n                    <span class=\"validate-error\" v-if=\"user.city.value.length === 0\">{{ user.city.errormsg }}</span>\n                  </div>\n                  <div class=\"form-group col-md-12 col-sm-6\">\n                    <div class=\"field-label\">State / County</div>\n                    <input type=\"text\" v-model=\"user.state.value\" name=\"State\" />\n                    <span class=\"validate-error\" v-if=\"user.state.value.length === 0\">{{ user.state.errormsg }}</span>\n                  </div>\n                  <div class=\"form-group col-md-12 col-sm-6\">\n                    <div class=\"field-label\">Postal Code</div>\n                    <input type=\"text\" v-model=\"user.pincode.value\" name=\"Postal Code\" />\n                    <span class=\"validate-error\" v-if=\"user.pincode.value.length === 0\">{{\n                      user.pincode.errormsg\n                    }}</span>\n                  </div>\n                  <div class=\"form-group col-lg-12 col-md-12 col-sm-12\">\n                    <nuxt-link :to=\"{ path: '/page/account/register' }\">Create an Account?</nuxt-link>\n                  </div>\n                </div>\n              </div>\n              <div class=\"col-lg-6 col-sm-12\">\n                <div class=\"checkout-details\">\n                  <div class=\"order-box\">\n                    <div class=\"title-box\">\n                      <div>\n                        Product\n                        <span>Total</span>\n                      </div>\n                    </div>\n                    <ul class=\"qty\" v-if=\"cart.length\">\n                      <li v-for=\"(item, index) in cart\" :key=\"index\">\n                        {{ item.title || uppercase }} X {{ item.quantity }}\n                        <span>{{ (item.price * curr.curr) * item.quantity }}</span>\n                      </li>\n                    </ul>\n                    <ul class=\"sub-total\">\n                      <li>\n                        Subtotal\n                        <span class=\"count\">{{ cartTotal * curr.curr }}</span>\n                      </li>\n                      <li>Shipping\n                        <div class=\"shipping\">\n                          <div class=\"shopping-option\">\n                            <input type=\"checkbox\" name=\"free-shipping\" id=\"free-shipping\">\n                            <label for=\"free-shipping\">Free Shipping</label>\n                          </div>\n                          <div class=\"shopping-option\">\n                            <input type=\"checkbox\" name=\"local-pickup\" id=\"local-pickup\">\n                            <label for=\"local-pickup\">Local Pickup</label>\n                          </div>\n                        </div>\n                      </li>\n                    </ul>\n                    <ul class=\"sub-total\">\n                      <li>\n                        Total\n                        <span class=\"count\">{{ cartTotal * curr.curr }}</span>\n                      </li>\n                    </ul>\n                  </div>\n                  <div class=\"payment-box\">\n                    <div class=\"upper-box\">\n                      <div class=\"payment-options\">\n                        <ul>\n                          <li>\n                            <label class=\"d-block\" for=\"edo-ani1\">\n                              <input class=\"radio_animated\" id=\"edo-ani1\" value=\"stripe\" v-model=\"selectedPayment\"\n                                type=\"radio\" name=\"rdo-ani\" data-original-title=\"\">Stripe\n                            </label>\n\n                          </li>\n                          <li>\n                            <label class=\"d-block\" for=\"edo-ani2\">\n\n                              <input class=\"radio_anima ted\" id=\"edo-ani2\" value=\"paypal\" v-model=\"selectedPayment\"\n                                type=\"radio\" name=\"rdo-ani\" data-original-title=\"\" title=\"\">PayPal\n\n\n                            </label>\n\n                          </li>\n                        </ul>\n                      </div>\n                    </div>\n                    <div class=\"text-end\">\n\n\n                      <div id=\"paypal-button-container\" :class=\"[{ 'd-none': selectedPayment != 'paypal' }]\"></div>\n                      <div class=\"order-place\" v-if=\"selectedPayment === 'stripe' && cart.length\">\n\n                        <button class=\"btn btn-primary\" @click.prevent=\"payWithStripe\">Place Order </button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n<script>\nimport { useCartStore } from '~~/store/cart'\nimport { useProductStore } from '~~/store/products'\n  export default {\n  computed: {\n    cart(){\n      return useCartStore().cartItems\n    },\n    cartTotal(){\n      return useCartStore().cartTotalAmount\n    },\n    curr(){\n      return useProductStore().changeCurrency\n    }\n  },\n  data() {\n    return {\n      items: [{\n        stripePriceId: '1',\n        quantity: 5\n      }],\n      selectedPayment: 'paypal',\n      errors: [],\n      user: {\n        firstName: { value: '', errormsg: '' },\n        lastName: { value: '', errormsg: '' },\n        phone: { value: '', errormsg: '' },\n        email: { value: '', errormsg: '' },\n        address: { value: '', errormsg: '' },\n        city: { value: '', errormsg: '' },\n        state: { value: '', errormsg: '' },\n        pincode: { value: '', errormsg: '' }\n      },\n      isLogin: false,\n      paypal: {\n        sandbox: 'Your_Sendbox_Key'\n      },\n      payment: false,\n      environment: 'sandbox',\n      button_style: {\n        label: 'checkout',\n        size: 'medium', // small | medium | large | responsive\n        shape: 'pill', // pill | rect\n        color: 'blue' // gold | blue | silver | black\n      },\n      amtchar: ''\n    }\n  },\n  mounted(){\n    window.paypal.Buttons({\n\n    }).render('#paypal-button-container')\n\n\n\n\n    this.isLogin = useCookie('userlogin').value\n\n    if (!this.isLogin) {\n      this.$router.replace('/page/account/login')\n    }\n    else if (this.isLogin && this.cart.length == 0) {\n      useNuxtApp().$showToast({ msg: \"Cart is Empty.\", type: \"error\" })\n      this.$router.replace('/page/account/cart')\n    }\n\n  },\n\n\n\n  methods: {\n\n    payWithStripe() {\n      this.onSubmit()\n\n      this.isLogin = useCookie('userlogin').value\n      if (!this.isLogin) {\n\n        this.$router.replace('/page/account/login')\n      }\n      else if (this.user.firstName.errormsg != '' && this.user.lastName.errormsg != '' && this.user.city.errormsg != '' && this.user.pincode.errormsg != '' && this.user.state.errormsg != '' && this.user.phone.errormsg != '' && this.user.address.errormsg != '' && this.user.email.errormsg != '') {\n\n        this.onSubmit()\n      }\n      else if (this.isLogin) {\n\n        this.payment = false\n        var handler = (window).StripeCheckout.configure({\n          key: 'PUBLISHBLE_KEY', // 'PUBLISHBLE_KEY'\n          locale: 'auto',\n          closed: function () {\n            handler.close()\n          },\n          token: (token) => {\n            this.$store.dispatch('products/createOrder', {\n              product: this.cart,\n              userDetail: this.user,\n              token: token.id,\n              amt: this.cartTotal\n            })\n            this.$router.push('/page/order-success')\n          }\n        });\n        handler.open({\n          name: 'Multikart ',\n          description: 'Your Choice Theme',\n          amount: this.cartTotal * 100\n        });\n      }\n\n\n    },\n\n    onSubmit() {\n\n      if (this.user.firstName.value.length <= 1 || this.user.firstName.value.length > 10) {\n        this.user.firstName.errormsg = 'empty not allowed'\n      } else {\n        this.user.firstName.errormsg = ''\n      }\n\n      if (this.user.lastName.value.length <= 1 || this.user.lastName.value.length > 10) {\n        this.user.lastName.errormsg = 'empty not allowed'\n      } else {\n        this.user.lastName.errormsg = ''\n      }\n\n      if (this.user.city.value.length < 3 || this.user.city.value.length > 10) {\n        this.user.city.errormsg = 'empty not allowed'\n      } else {\n        this.user.city.errormsg = ''\n      }\n      if (this.user.pincode.value.length < 4) {\n\n        this.user.pincode.errormsg = 'empty not  allowed'\n      } else {\n        this.user.pincode.errormsg = ''\n      }\n      if (!this.user.state.value) {\n        this.user.state.errormsg = 'empty not allowed'\n      } else {\n        this.user.state.errormsg = ''\n      }\n      if (!this.user.phone.value) {\n        this.user.phone.errormsg = 'empty not allowed'\n      } else {\n        this.user.phone.errormsg = ''\n      }\n      if (!this.user.address.value) {\n        this.user.address.errormsg = 'empty not allowed'\n      } else {\n        this.user.address.errormsg = ''\n      }\n      if (!this.user.email.value) {\n        this.user.email.errormsg = 'empty not allowed'\n      } else if (!this.validEmail(this.user.email.value)) {\n\n        this.user.email.errormsg = 'Valid email required.'\n\n      } else {\n        this.user.email.errormsg = ''\n      }\n\n    },\n    validEmail: function (email) {\n      const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n      return re.test(email)\n    }\n  },\n  watch:{\n    cart:{\n      handler(value){\n        if(value.length==0){\n          useNuxtApp().$showToast({ msg: \"Cart is Empty.\", type: \"error\" })\n          this.$router.replace('/page/account/cart')\n        }\n        \n      },deep:true\n    }\n  }\n}\n</script>\n","<template>\n  <div>\n    <Breadcrumbs title=\"Checkout\" />\n   <paymenPage/>\n  </div>\n</template>\n<script>\nimport Breadcrumbs from '../../../components/widgets/breadcrumbs'\nimport paymenPage from '../../../components/paymentPage.vue'\nexport default{\ncomponents:{\n  Breadcrumbs,\n  paymenPage\n}\n}\n</script>\n"],"names":["_ssrRenderAttrs","_mergeProps","_ssrRenderComponent","_ssrInterpolate"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;EAmKE,UAAA;AAAA,IACE,OAAA;;;;AAIE,aAAA,aAAA,EAAA;AAAA;IAEF,OAAA;AACE,aAAA,gBAAA,EAAA;AAAA,IACF;AAAA;EAEF,OAAA;AACE,WAAA;AAAA,MACE,OAAA,CAAA;AAAA,QACE,eAAA;AAAA,QACA,UAAA;AAAA,MACF,CAAA;AAAA;MAEA,QAAA,CAAA;AAAA;QAEE,WAAA,EAAA,OAAA,IAAA,UAAA,GAAA;AAAA,QACA,UAAA,EAAA,OAAA,IAAA,UAAA,GAAA;AAAA;;QAGA,SAAA,EAAA,OAAA,IAAA,UAAA,GAAA;AAAA;;;;;MAMF,QAAA;AAAA;;;MAIA,aAAA;AAAA;QAEE,OAAA;AAAA,QACA,MAAA;AAAA;QAEA,OAAA;AAAA;MAEF,SAAA;AAAA,IACF;AAAA;EAEF,UAAA;2BAGE,CAAA,EAAA,OAAA,0BAAA;AAKA,SAAA,UAAA,UAAA,WAAA,EAAA;AAEA,QAAA,CAAA,KAAA,SAAA;AACE,WAAA,QAAA,QAAA,qBAAA;AAAA,IACF,WACA,KAAA,WAAA,KAAA,KAAA,UAAA,GAAA;;AAEE,WAAA,QAAA,QAAA,oBAAA;AAAA,IACF;AAAA;EAMF,SAAA;AAAA,IAEE,gBAAA;AACE,WAAA,SAAA;AAEA,WAAA,UAAA,UAAA,WAAA,EAAA;AACA,UAAA,CAAA,KAAA,SAAA;AAEE,aAAA,QAAA,QAAA,qBAAA;AAAA,MACF,WACA,KAAA,KAAA,UAAA,YAAA,MAAA,KAAA,KAAA,SAAA,YAAA,MAAA,KAAA,KAAA,KAAA,YAAA,MAAA,KAAA,KAAA,QAAA,YAAA,MAAA,KAAA,KAAA,MAAA,YAAA,MAAA,KAAA,KAAA,MAAA,YAAA,MAAA,KAAA,KAAA,QAAA,YAAA,MAAA,KAAA,KAAA,MAAA,YAAA,IAAA;AAEE,aAAA,SAAA;AAAA,MACF,WACA,KAAA,SAAA;AAEE,aAAA,UAAA;AACA,YAAA,UAAA,OAAA,eAAA,UAAA;AAAA,UACE,KAAA;AAAA;UAEA,QAAA,WAAA;AACE,oBAAA,MAAA;AAAA;UAEF,OAAA,CAAA,UAAA;AACE,iBAAA,OAAA,SAAA,wBAAA;AAAA,cACE,SAAA,KAAA;AAAA,cACA,YAAA,KAAA;AAAA,cACA,OAAA,MAAA;AAAA,cACA,KAAA,KAAA;AAAA;AAEF,iBAAA,QAAA,KAAA,qBAAA;AAAA,UACF;AAAA,QACF,CAAA;;UAEE,MAAA;AAAA;;QAGF,CAAA;AAAA,MACF;AAAA;;AAOA,UAAA,KAAA,KAAA,UAAA,MAAA,UAAA,KAAA,KAAA,KAAA,UAAA,MAAA,SAAA,IAAA;AACE,aAAA,KAAA,UAAA,WAAA;AAAA;AAEA,aAAA,KAAA,UAAA,WAAA;AAAA,MACF;AAEA,UAAA,KAAA,KAAA,SAAA,MAAA,UAAA,KAAA,KAAA,KAAA,SAAA,MAAA,SAAA,IAAA;AACE,aAAA,KAAA,SAAA,WAAA;AAAA;;MAGF;AAEA,UAAA,KAAA,KAAA,KAAA,MAAA,SAAA,KAAA,KAAA,KAAA,KAAA,MAAA,SAAA,IAAA;AACE,aAAA,KAAA,KAAA,WAAA;AAAA;;MAGF;AACA,UAAA,KAAA,KAAA,QAAA,MAAA,SAAA,GAAA;AAEE,aAAA,KAAA,QAAA,WAAA;AAAA;;MAGF;;AAEE,aAAA,KAAA,MAAA,WAAA;AAAA;;MAGF;;AAEE,aAAA,KAAA,MAAA,WAAA;AAAA;;MAGF;;AAEE,aAAA,KAAA,QAAA,WAAA;AAAA;;MAGF;;AAEE,aAAA,KAAA,MAAA,WAAA;AAAA;AAGA,aAAA,KAAA,MAAA,WAAA;AAAA;;MAIF;AAAA;;AAIA,YAAA,KAAA;AACA,aAAA,GAAA,KAAA,KAAA;AAAA,IACF;AAAA;EAEF,OAAA;AAAA;MAEI,QAAA,OAAA;AACE,YAAA,MAAA,UAAA,GAAA;;AAEE,eAAA,QAAA,QAAA,oBAAA;AAAA,QACF;AAAA;;IAGJ;AAAA,EACF;AACF;;;mBAlVWA,eAAAC,WAAA,EAAA,OAAA,kBAAA,GAAA,MAAA,CAAA;AAc4C,MAAA,MAAA,KAAA,UAAA,MAAA,WAAA,GAAA;;;;;;AAOA,MAAA,MAAA,KAAA,SAAA,MAAA,WAAA,GAAA;;;;;;AAOA,MAAA,MAAA,KAAA,MAAA,MAAA,WAAA,GAAA;;;;;;;;;;;;AAqBA,MAAA,MAAA,KAAA,QAAA,MAAA,WAAA,GAAA;;;;;;AAOA,MAAA,MAAA,KAAA,KAAA,MAAA,WAAA,GAAA;;;;;;AAKA,MAAA,MAAA,KAAA,MAAA,MAAA,WAAA,GAAA;;;;;;AAKA,MAAA,MAAA,KAAA,QAAA,MAAA,WAAA,GAAA;;;;;;AAKvB,QAAAC,mBAAA,sBAAA,EAAA,IAAA,EAAA,MAAA,yBAAA,KAAA;AAAA;;;;;;;;;;;;AAaU,MAAA,SAAA,KAAA,QAAA;;;qEAEiBC,eAAA,KAAA,QAAA;;;;;;;;;;;;;;;;;;;;;AC9E3D,MAAK,YAAS;AAAA,EACd,YAAW;AAAA,IACT;AAAA,IACA;AAAA,EACF;AACA;;;;;AAZiB,QAAAD,mBAAA,wBAAA,EAAA,OAAM,cAAU,MAAA,OAAA,CAAA;;;;;;;;;;;"}